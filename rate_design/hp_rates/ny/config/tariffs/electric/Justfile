# Standalone Justfile for NY electric Genability tariff fetch. Run from repo root:
#   just -f rate_design/hp_rates/ny/config/tariffs/electric/Justfile fetch-genability
# Prefer the shared recipe instead: UTILITY=<util> just s ny fetch-genability-tariffs
path_project_root := `git rev-parse --show-toplevel`
path_output_dir := path_project_root + "/rate_design/hp_rates/ny/config/rev_requirement/top-ups"
path_genability_yaml := path_output_dir + "/tariffs_by_utility.yaml"

# Fetch all NY electric default tariffs from Genability/Arcadia; writes <tariff_key>.json to top-ups/default_tariffs/.
fetch-genability:
	uv run --directory "{{path_project_root}}" python {{path_project_root}}/utils/pre/fetch_electric_tariffs_genability.py "{{path_genability_yaml}}" "{{path_output_dir}}/default_tariffs" --state NY
