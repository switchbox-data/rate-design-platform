# Standalone Justfile for NY electric Genability tariff fetch. Run from repo root:
#   just -f rate_design/ny/hp_rates/config/tariffs/electric/Justfile fetch-genability
path_project_root := `git rev-parse --show-toplevel`
path_output_dir := path_project_root + "/rate_design/ny/hp_rates/config/tariffs/electric/genability"
path_genability_yaml := path_project_root + "/rate_design/ny/hp_rates/config/tariffs/electric/genability_tariffs.yaml"

# Fetch all NY electric default tariffs from Genability/Arcadia; writes <tariff_key>.json to genability/.
fetch-genability:
	uv run --directory "{{path_project_root}}" python {{path_project_root}}/utils/pre/fetch_electric_tariffs_genability.py "{{path_genability_yaml}}" "{{path_output_dir}}" --state NY
